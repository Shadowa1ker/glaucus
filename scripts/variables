# Copyright (c) 2019, Firas Khalil Khana
# Distributed under the terms of the ISC License

# This file defines all variables needed to build glaucus from scratch

# basic will be called whenever this script is sourced, so only common and
# mutual variables between both the toolchain and the system should be defined
# here

# Although ARCH should be x86-64, some packages won't build successfully
# without x86_64, so the main approach is to use x86-64 whenever possible
# and switch to x86_64 once an error occurs
export ARCH=x86_64

# Decided to go with quadruplets for tuples,
# Replaced unknown with pc because it's shorter and more expressive
export TUPL=$ARCH-pc-linux-musl

# Don't forget the GNU tuple that's used for notifying configure scripts of
# our build/host. Both build and host are equal to GUPL in cross, and only build
# is equal to GUPL in the final toolchain.
export GUPL=$ARCH-pc-linux-gnu

# cerata is for storing upstream sources and glaucus' recipe format
# logs contains log files for both System and Toolchain
# temporary is where all the magic happens ;)
export CERD=/home/glaucus/cerata
export LOGD=/home/glaucus/logs
export TMPD=/home/glaucus/temporary

# The system wide symlink to the cross-compilation toolchain
export CRSS=/cross

# $CRSS should be searched first
# `/usr/bin/core_perl` resolves the pod2man related error until perl is added
export PATH=$CRSS/bin:/usr/bin:/usr/bin/core_perl

# It's highly recommended that MAKEFLAGS value stays at -j1 for now as any
# higher value might cause weird problems (segfaults included). 
export MAKEFLAGS=-j1
