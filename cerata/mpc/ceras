name=mpc
version=git
release=1
arch=x86-64
url=https://scm.gforge.inria.fr/anonscm/$version/$name/$name
cysts='musl gmp mpfr'
description='A C library for the arithmetic of complex numbers with arbitrarily high precision and correct rounding of the result'
license='GFDLv1.3+ LGPLv2.1+ LGPLv3.0+ PD'
build_cross(){
        rsync -vah $CERD/$name/$name/ $CSRC/$name --delete
        cd $CSRC/$name
        autoreconf -vi
        LDFLAGS="-Wl,-rpath=$CRSL/lib" \
        ./configure \
                --prefix=$CRSL \
                --disable-static \
                --with-mpfr=$CRSL \
                --with-gmp=$CRSL
        make
        make install
}
build_toolchain(){
        rsync -vah $CERD/$name/$name/ $TSRC/$1 --delete
        cd $TSRC/$1
        autoreconf -vi
        case $1 in
                mpc_1)
                        ./configure \
                                --prefix=$TOOL \
                                --disable-static \
                                --with-mpfr=$TOOL \
                                --with-gmp=$TOOL
                        ;;
                mpc_2)
                        AR=$TUPL-ar \
                        AS=$TUPL-as \
                        CC=$TUPL-gcc \
                        CXX=$TUPL-g++ \
                        LD=$TUPL-ld \
                        NM=$TUPL-nm \
                        OBJCOPY=$TUPL-objcopy \
                        OBJDUMP=$TUPL-objdump \
                        RANLIB=$TUPL-ranlib \
                        READELF=$TUPL-readelf \
                        SIZE=$TUPL-size \
                        STRINGS=$TUPL-strings \
                        STRIP=$TUPL-strip \
                        ./configure \
                                --prefix=$TOOL \
                                --disable-static \
                                --with-mpfr=$TOOL \
                                --with-gmp=$TOOL
                        ;;
        esac
        make
        make install
}
build(){
        :
}
