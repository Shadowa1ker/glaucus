name=elfutils
version=git
release=1
arch=x86-64
url=https://sourceware.org/$version/$name.$version
cyst=musl
description='A collection of utilities and libraries to read, create and modify
ELF binary files, find and handle DWARF debug data, symbols, thread state and
stacktraces for processes and core files on GNU/Linux'
license=GPLv3+

prepare_system() {
  rsync -vah $CERD/$name/$name $SSRC --delete
  cd $SSRC/$name
}

configure_system() {
  autoreconf -vfi
  ./configure \
    --prefix=/usr \
    --program-prefix=eu- \
    --build=$TUPL \
    --host=$TUPL \
    --target=$TUPL \
    --disable-symbol-versioning \
    --disable-werror \
    --disable-nls
}

build_system() {
  make
}

install_system() {
  make \
    DESTDIR=$SCER/$name/sac \
    install-strip
}
