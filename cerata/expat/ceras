name=expat
version=git
release=1
arch=x86-64
url=https://github.com/lib$name/lib$name
cyst=musl
description='Fast streaming XML parser written in C'
license=MIT

prepare_system() {
  rsync -vah $CERD/$name/lib$name/$name $SSRC --delete
  cd $SSRC/$name

  ./buildconf.sh

  mkdir -v $SBLD/$name
  cd $SBLD/$name
}

configure_system() {
  $SSRC/$name/configure \
    --prefix=/usr \
    --build=$TUPL \
    --host=$TUPL \
    --target=$TUPL \
    --disable-static \
    --without-xmlwf \
    --without-examples \
    --without-tests
}

build_system() {
  make
}

install_system() {
  make \
    DESTDIR=$SCER/$name/sac \
    install-strip
}
