From fe1b3ce210fc333ad0b38a61dc413f8d105013d4 Mon Sep 17 00:00:00 2001
From: Michael Forney <mforney@mforney.org>
Date: Thu, 23 Jan 2020 09:56:24 -0800
Subject: [PATCH 5/7] compdb: Remove trailing comma after last entry in command
 object

This is not valid JSON.
---
 tool.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/tool.c b/tool.c
index f77931e..c4230c2 100644
--- a/tool.c
+++ b/tool.c
@@ -207,7 +207,7 @@ compdb(int argc, char *argv[])
 				printf("\",\n    \"output\": \"");
 				printjson(e->out[0]->path->s, -1, false);
 
-				printf("\",\n  }");
+				printf("\"\n  }");
 				break;
 			}
 		}
-- 
2.25.0

